TID: [2018-02-16 12:26:10,615]  WARN {org.apache.axiom.util.stax.dialect.StAXDialectDetector} -  Unable to determine dialect of the StAX implementation at jar:file:/Users/chalitha_sanyuja/.m2/repository/org/apache/ws/commons/axiom/wso2/axiom/1.2.11.wso2v10/axiom-1.2.11.wso2v10.jar!/ {org.apache.axiom.util.stax.dialect.StAXDialectDetector}
TID: [2018-02-16 12:26:13,908]  WARN {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter} -  Error occurred while writing event [streamId--KVS--org.wso2.apimgt.statistics.request:1.0.0--EVT--timeStamp--KVS--12324343--EVT--metaData--KVS--{"keyType":"null","correlationID", "null"}--EVT--correlationData--KVS--null--EVT--payloadData--KVS----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ--1--OBJ--0--OBJ----OBJ----OBJ--10.100.7.41--OBJ----OBJ----OBJ----OBJ----OBJ----OBJ--false--OBJ----OBJ--] to the file : /Users/chalitha_sanyuja/Git-repo/carbon-apimgt-public/carbon-apimgt-1/components/apimgt/org.wso2.carbon.apimgt.micro.gateway/org.wso2.carbon.apimgt.micro.gateway.usage.publisher/src/test/resources/carbon-home/api-usage-data/api-usage-data.dat {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter}
java.io.IOException: Stream closed
	at java.io.BufferedWriter.ensureOpen(BufferedWriter.java:116)
	at java.io.BufferedWriter.write(BufferedWriter.java:221)
	at java.io.Writer.write(Writer.java:157)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter.writeToFile(UsageFileWriter.java:131)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:181)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:151)
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:128)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
TID: [2018-02-16 12:26:15,118]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.APIUsageFileCleanupTask} -  API Usage data files will be cleaned up to : 2018-01-27 {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.APIUsageFileCleanupTask}
TID: [2018-02-16 12:26:16,476]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.UploadedUsageCleanUpTask} -  Uploaded API Usage data in the db will be cleaned up to : 2018-01-27 12:26:16.475 {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.UploadedUsageCleanUpTask}
TID: [2018-02-16 12:26:18,569]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Started publishing API usage in file : [ Tenant : ccc2222, FileName : api-usage-data.dat.1517296920006.gz, TimeStamp : 121232] {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
TID: [2018-02-16 12:26:48,582]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Completed publishing API Usage from file : [ Tenant : ccc2222, FileName : api-usage-data.dat.1517296920006.gz, TimeStamp : 121232] {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
TID: [2018-02-16 12:26:48,598]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Started publishing API usage in file : [ Tenant : ccc2222, FileName : api-usage-data.dat.1517296920006.gz, TimeStamp : 1213232] {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
TID: [2018-02-16 12:26:48,601] ERROR {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Error occurred while reading the API Usage file. {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
java.util.zip.ZipException: Not in GZIP format
	at java.util.zip.GZIPInputStream.readHeader(GZIPInputStream.java:165)
	at java.util.zip.GZIPInputStream.<init>(GZIPInputStream.java:79)
	at java.util.zip.GZIPInputStream.<init>(GZIPInputStream.java:91)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher.publishEvents(UploadedUsagePublisher.java:78)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher.run(UploadedUsagePublisher.java:59)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisherTest.run_throwsExceptionWhileDecompressingFile(UploadedUsagePublisherTest.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:68)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:326)
	at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:89)
	at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:97)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)
	at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)
	at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)
	at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)
	at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)
	at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)
	at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)
	at org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:81)
	at org.testng.junit.JUnit4TestRunner.run(JUnit4TestRunner.java:69)
	at org.testng.TestRunner$1.run(TestRunner.java:697)
	at org.testng.TestRunner.runJUnitWorkers(TestRunner.java:1004)
	at org.testng.TestRunner.privateRunJUnit(TestRunner.java:728)
	at org.testng.TestRunner.run(TestRunner.java:629)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:212)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
TID: [2018-02-16 12:33:55,748] ERROR {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter} -  Error occurred while rotating the file : /Users/chalitha_sanyuja/Git-repo/carbon-apimgt-public/carbon-apimgt-1/components/apimgt/org.wso2.carbon.apimgt.micro.gateway/org.wso2.carbon.apimgt.micro.gateway.usage.publisher/src/test/resources/carbon-home/api-usage-data/api-usage-data.dat {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter}
OnPremiseGatewayException: Error occurred while reading the config file : on-premise-gateway.properties
	at ConfigManager.init(ConfigManager.java:83)
	at ConfigManager.<init>(ConfigManager.java:45)
	at ConfigManager.getConfigManager(ConfigManager.java:57)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter.writeToFile(UsageFileWriter.java:117)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:181)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:151)
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:128)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.FileNotFoundException: null/on-premise-gateway.properties (No such file or directory)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.<init>(FileInputStream.java:138)
	at java.io.FileInputStream.<init>(FileInputStream.java:93)
	at ConfigManager.init(ConfigManager.java:73)
	... 9 more
TID: [2018-02-16 12:33:55,767] ERROR {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter} -  Error occurred while rotating the file : /Users/chalitha_sanyuja/Git-repo/carbon-apimgt-public/carbon-apimgt-1/components/apimgt/org.wso2.carbon.apimgt.micro.gateway/org.wso2.carbon.apimgt.micro.gateway.usage.publisher/src/test/resources/carbon-home/api-usage-data/api-usage-data.dat {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter}
OnPremiseGatewayException: Error occurred while reading the config file : on-premise-gateway.properties
	at ConfigManager.init(ConfigManager.java:83)
	at ConfigManager.<init>(ConfigManager.java:45)
	at ConfigManager.getConfigManager(ConfigManager.java:57)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter.writeToFile(UsageFileWriter.java:117)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:181)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:151)
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:128)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.FileNotFoundException: null/repository/conf/on-premise-gateway.properties (No such file or directory)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.<init>(FileInputStream.java:138)
	at java.io.FileInputStream.<init>(FileInputStream.java:93)
	at ConfigManager.init(ConfigManager.java:73)
	... 9 more
TID: [2018-02-16 12:33:56,389]  WARN {org.apache.axiom.util.stax.dialect.StAXDialectDetector} -  Unable to determine dialect of the StAX implementation at jar:file:/Users/chalitha_sanyuja/.m2/repository/org/apache/ws/commons/axiom/wso2/axiom/1.2.11.wso2v10/axiom-1.2.11.wso2v10.jar!/ {org.apache.axiom.util.stax.dialect.StAXDialectDetector}
TID: [2018-02-16 12:34:00,011]  WARN {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter} -  Error occurred while writing event [streamId--KVS--org.wso2.apimgt.statistics.request:1.0.0--EVT--timeStamp--KVS--12324343--EVT--metaData--KVS--{"keyType":"null","correlationID", "null"}--EVT--correlationData--KVS--null--EVT--payloadData--KVS----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ--1--OBJ--0--OBJ----OBJ----OBJ--10.100.7.41--OBJ----OBJ----OBJ----OBJ----OBJ----OBJ--false--OBJ----OBJ--] to the file : /Users/chalitha_sanyuja/Git-repo/carbon-apimgt-public/carbon-apimgt-1/components/apimgt/org.wso2.carbon.apimgt.micro.gateway/org.wso2.carbon.apimgt.micro.gateway.usage.publisher/src/test/resources/carbon-home/api-usage-data/api-usage-data.dat {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter}
java.io.IOException: Stream closed
	at java.io.BufferedWriter.ensureOpen(BufferedWriter.java:116)
	at java.io.BufferedWriter.write(BufferedWriter.java:221)
	at java.io.Writer.write(Writer.java:157)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter.writeToFile(UsageFileWriter.java:131)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:181)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:151)
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:128)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
TID: [2018-02-16 12:34:01,151]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.APIUsageFileCleanupTask} -  API Usage data files will be cleaned up to : 2018-01-27 {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.APIUsageFileCleanupTask}
TID: [2018-02-16 12:34:02,315]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.UploadedUsageCleanUpTask} -  Uploaded API Usage data in the db will be cleaned up to : 2018-01-27 12:34:02.314 {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.UploadedUsageCleanUpTask}
TID: [2018-02-16 12:34:05,138]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Started publishing API usage in file : [ Tenant : ccc2222, FileName : api-usage-data.dat.1517296920006.gz, TimeStamp : 121232] {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
TID: [2018-02-16 12:34:35,210]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Completed publishing API Usage from file : [ Tenant : ccc2222, FileName : api-usage-data.dat.1517296920006.gz, TimeStamp : 121232] {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
TID: [2018-02-16 12:34:35,229]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Started publishing API usage in file : [ Tenant : ccc2222, FileName : api-usage-data.dat.1517296920006.gz, TimeStamp : 1213232] {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
TID: [2018-02-16 12:34:35,231] ERROR {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Error occurred while reading the API Usage file. {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
java.util.zip.ZipException: Not in GZIP format
	at java.util.zip.GZIPInputStream.readHeader(GZIPInputStream.java:165)
	at java.util.zip.GZIPInputStream.<init>(GZIPInputStream.java:79)
	at java.util.zip.GZIPInputStream.<init>(GZIPInputStream.java:91)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher.publishEvents(UploadedUsagePublisher.java:78)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher.run(UploadedUsagePublisher.java:59)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisherTest.run_throwsExceptionWhileDecompressingFile(UploadedUsagePublisherTest.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:68)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:326)
	at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:89)
	at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:97)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)
	at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)
	at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)
	at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)
	at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)
	at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)
	at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)
	at org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:81)
	at org.testng.junit.JUnit4TestRunner.run(JUnit4TestRunner.java:69)
	at org.testng.TestRunner$1.run(TestRunner.java:697)
	at org.testng.TestRunner.runJUnitWorkers(TestRunner.java:1004)
	at org.testng.TestRunner.privateRunJUnit(TestRunner.java:728)
	at org.testng.TestRunner.run(TestRunner.java:629)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:212)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
TID: [2018-02-16 12:53:16,426]  WARN {org.apache.axiom.util.stax.dialect.StAXDialectDetector} -  Unable to determine dialect of the StAX implementation at jar:file:/Users/chalitha_sanyuja/.m2/repository/org/apache/ws/commons/axiom/wso2/axiom/1.2.11.wso2v10/axiom-1.2.11.wso2v10.jar!/ {org.apache.axiom.util.stax.dialect.StAXDialectDetector}
TID: [2018-02-16 12:53:19,354]  WARN {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter} -  Error occurred while writing event [streamId--KVS--org.wso2.apimgt.statistics.request:1.0.0--EVT--timeStamp--KVS--12324343--EVT--metaData--KVS--{"keyType":"null","correlationID", "null"}--EVT--correlationData--KVS--null--EVT--payloadData--KVS----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ--1--OBJ--0--OBJ----OBJ----OBJ--10.100.7.41--OBJ----OBJ----OBJ----OBJ----OBJ----OBJ--false--OBJ----OBJ--] to the file : /Users/chalitha_sanyuja/Git-repo/carbon-apimgt-public/carbon-apimgt-1/components/apimgt/org.wso2.carbon.apimgt.micro.gateway/org.wso2.carbon.apimgt.micro.gateway.usage.publisher/src/test/resources/carbon-home/api-usage-data/api-usage-data.dat {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter}
java.io.IOException: Stream closed
	at java.io.BufferedWriter.ensureOpen(BufferedWriter.java:116)
	at java.io.BufferedWriter.write(BufferedWriter.java:221)
	at java.io.Writer.write(Writer.java:157)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter.writeToFile(UsageFileWriter.java:131)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:181)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:151)
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:128)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
TID: [2018-02-16 12:53:20,202]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.APIUsageFileCleanupTask} -  API Usage data files will be cleaned up to : 2018-01-27 {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.APIUsageFileCleanupTask}
TID: [2018-02-16 12:53:21,068]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.UploadedUsageCleanUpTask} -  Uploaded API Usage data in the db will be cleaned up to : 2018-01-27 12:53:21.067 {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.UploadedUsageCleanUpTask}
TID: [2018-02-16 12:53:22,706]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Started publishing API usage in file : [ Tenant : ccc2222, FileName : api-usage-data.dat.1517296920006.gz, TimeStamp : 121232] {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
TID: [2018-02-16 12:53:52,716]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Completed publishing API Usage from file : [ Tenant : ccc2222, FileName : api-usage-data.dat.1517296920006.gz, TimeStamp : 121232] {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
TID: [2018-02-16 12:53:52,736]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Started publishing API usage in file : [ Tenant : ccc2222, FileName : api-usage-data.dat.1517296920006.gz, TimeStamp : 1213232] {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
TID: [2018-02-16 12:53:52,737] ERROR {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Error occurred while reading the API Usage file. {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
java.util.zip.ZipException: Not in GZIP format
	at java.util.zip.GZIPInputStream.readHeader(GZIPInputStream.java:165)
	at java.util.zip.GZIPInputStream.<init>(GZIPInputStream.java:79)
	at java.util.zip.GZIPInputStream.<init>(GZIPInputStream.java:91)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher.publishEvents(UploadedUsagePublisher.java:78)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher.run(UploadedUsagePublisher.java:59)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisherTest.run_throwsExceptionWhileDecompressingFile(UploadedUsagePublisherTest.java:108)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:68)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:326)
	at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:89)
	at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:97)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)
	at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)
	at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)
	at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)
	at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)
	at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)
	at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)
	at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)
	at org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.testng.junit.JUnit4TestRunner.start(JUnit4TestRunner.java:81)
	at org.testng.junit.JUnit4TestRunner.run(JUnit4TestRunner.java:69)
	at org.testng.TestRunner$1.run(TestRunner.java:697)
	at org.testng.TestRunner.runJUnitWorkers(TestRunner.java:1004)
	at org.testng.TestRunner.privateRunJUnit(TestRunner.java:728)
	at org.testng.TestRunner.run(TestRunner.java:629)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)
	at org.testng.SuiteRunner.run(SuiteRunner.java:268)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)
	at org.testng.TestNG.run(TestNG.java:1064)
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:115)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeMulti(TestNGDirectoryTestSuite.java:212)
	at org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:108)
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:111)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
TID: [2018-02-16 13:00:22,747]  WARN {org.apache.axiom.util.stax.dialect.StAXDialectDetector} -  Unable to determine dialect of the StAX implementation at jar:file:/Users/chalitha_sanyuja/.m2/repository/org/apache/ws/commons/axiom/wso2/axiom/1.2.11.wso2v10/axiom-1.2.11.wso2v10.jar!/ {org.apache.axiom.util.stax.dialect.StAXDialectDetector}
TID: [2018-02-16 13:00:26,540]  WARN {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter} -  Error occurred while writing event [streamId--KVS--org.wso2.apimgt.statistics.request:1.0.0--EVT--timeStamp--KVS--12324343--EVT--metaData--KVS--{"keyType":"null","correlationID", "null"}--EVT--correlationData--KVS--null--EVT--payloadData--KVS----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ----OBJ--1--OBJ--0--OBJ----OBJ----OBJ--10.100.7.41--OBJ----OBJ----OBJ----OBJ----OBJ----OBJ--false--OBJ----OBJ--] to the file : /Users/chalitha_sanyuja/Git-repo/carbon-apimgt-public/carbon-apimgt-1/components/apimgt/org.wso2.carbon.apimgt.micro.gateway/org.wso2.carbon.apimgt.micro.gateway.usage.publisher/src/test/resources/carbon-home/api-usage-data/api-usage-data.dat {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter}
java.io.IOException: Stream closed
	at java.io.BufferedWriter.ensureOpen(BufferedWriter.java:116)
	at java.io.BufferedWriter.write(BufferedWriter.java:221)
	at java.io.Writer.write(Writer.java:157)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.util.UsageFileWriter.writeToFile(UsageFileWriter.java:131)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:181)
	at org.wso2.carbon.apimgt.micro.gateway.usage.publisher.FileDataPublisher$EventQueueWorker.onEvent(FileDataPublisher.java:151)
	at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:128)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
TID: [2018-02-16 13:00:27,524]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.APIUsageFileCleanupTask} -  API Usage data files will be cleaned up to : 2018-01-27 {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.APIUsageFileCleanupTask}
TID: [2018-02-16 13:00:28,404]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.UploadedUsageCleanUpTask} -  Uploaded API Usage data in the db will be cleaned up to : 2018-01-27 13:00:28.404 {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.tasks.UploadedUsageCleanUpTask}
TID: [2018-02-16 13:00:30,150]  INFO {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher} -  Started publishing API usage in file : [ Tenant : ccc2222, FileName : api-usage-data.dat.1517296920006.gz, TimeStamp : 121232] {org.wso2.carbon.apimgt.micro.gateway.usage.publisher.UploadedUsagePublisher}
